<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Social Feed</title>
<script src="https://cdn.tailwindcss.com"></script>
  <link 
  rel="stylesheet" 
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
/>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

<div class="bg-white shadow-lg rounded-lg p-6 w-full max-w-md">
    <div class="justify-center flex">
      <a class=" p-2 items-center justify-center " 
    href="index.html"><i class="fa-solid fa-house text-green-950 size-8 text-5xl">

    </i>
  </a></div>

    <textarea id="postText" placeholder="create your post..."
      class="w-full p-3 border rounded-md focus:outline-none resize-none" rows="3"></textarea>

    <div class="mt-3">
      <label class="block text-sm text-gray-700 mb-1">Add Photo:</label>
      <input type="file" id="postImage" accept="image/*"
        class="block w-full text-sm text-gray-700 border border-gray-300 rounded-md cursor-pointer bg-gray-50" />
    </div>

    <button id="submitPost"
      class="mt-4 text-white px-4 py-2 rounded-md bg-green-950 w-full">Post</button>
  </div>

  <script>
    const postText = document.getElementById("postText");
    const postImage = document.getElementById("postImage");
    const submitPost = document.getElementById("submitPost");

    let posts = JSON.parse(localStorage.getItem("sharedPosts")) || [];

    // post submit
    submitPost.addEventListener("click", async () => {
      const text = postText.value.trim();
      const file = postImage.files[0];
      if (text === "" && !file) return alert("type something!");

      let imageBase64 = "";
      if (file) imageBase64 = await toBase64(file);

      const newPost = {
        id: Date.now(),
        text,
        image: imageBase64,
        likes: 0,
        liked: false,
        comments: [],
        time: new Date().toLocaleString("bn-BD")
      };

      posts.unshift(newPost);
      localStorage.setItem("sharedPosts", JSON.stringify(posts));

      postText.value = "";
      postImage.value = "";
      alert("âœ…post submit! go to newsfeed");
    });

    function toBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => resolve(reader.result);
        reader.onerror = error => reject(error);
      });
    }
  </script>
<!-- 
<script src="js/script.js"></script> -->
</body>
</html>
